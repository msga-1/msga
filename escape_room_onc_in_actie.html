<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Escape Room - The Digital Lock</title>
  <style>
    :root{
      --bg0:#07080b;
      --bg1:#0e1016;
      --glass: rgba(255,255,255,.08);
      --glass2: rgba(255,255,255,.15);
      --stroke: rgba(255,255,255,.2);
      --neon: #00ff88;
      --neon2:#00d4ff;
      --danger:#ff3b57;
      --text:#ffffff;
    }

    *{box-sizing:border-box}
    html,body{height:100%; margin:0; font-family: system-ui, sans-serif; color: var(--text); overflow-x:hidden; background: var(--bg0);}
    
    body {
      background: linear-gradient(160deg, var(--bg0), var(--bg1));
      display:grid; place-items:center; padding: 20px;
    }

    /* Start Screen */
    .overlay-screen {
      position: fixed; inset: 0; z-index: 100; background: var(--bg0);
      display: flex; justify-content: center; align-items: center; padding: 20px;
    }

    .info-card {
      width: min(1000px, 95vw); background: var(--glass2); border: 4px solid var(--neon);
      border-radius: 40px; padding: 40px; backdrop-filter: blur(20px); text-align: center;
    }

    .info-card h2 { color: var(--neon); font-size: clamp(2rem, 8vw, 4rem); text-transform: uppercase; margin: 0 0 20px 0; }
    
    .instructions ul { 
      text-align: left; display: inline-block; font-size: clamp(1.2rem, 4vw, 2rem);
      line-height: 1.4; list-style-type: "ðŸš€ ";
    }
    .instructions li { margin-bottom: 15px; }

    .btn-group { display: flex; gap: 15px; margin-top: 30px; justify-content: center; flex-wrap: wrap; }

    .start-btn {
      background: var(--neon); color: #000; border: none; padding: 20px 50px;
      border-radius: 20px; cursor: pointer; font-weight: 900;
      text-transform: uppercase; font-size: 2rem;
    }

    /* Game UI */
    .app{
      width: min(500px, 92vw); padding: 25px; border-radius: 40px;
      background: var(--glass2); border: 2px solid var(--stroke);
      display:flex; flex-direction:column; gap:15px; text-align: center;
    }

    #display{
      height: 90px; border-radius: 20px; display:flex; align-items:center; justify-content:center;
      font-size: 3.5rem; font-weight: 900; background: #000;
      border: 3px solid var(--neon); color: var(--neon); margin: 10px 0;
    }

    .keypad{ display:grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
    .key{
      height: 80px; border-radius: 18px; border: 2px solid var(--stroke);
      background: rgba(255,255,255,0.1); color: #fff; font-size: 2rem; font-weight: 900; cursor:pointer;
    }
    .key.clear { color: var(--danger); }
    .key.enter { background: var(--neon); color: #000; }

    /* Success Screen */
    .success-screen { width: 95vw; max-width: 1300px; text-align: center; overflow-y: auto; max-height: 95vh; padding: 20px; }
    .success-title { font-size: clamp(3rem, 10vw, 6rem); font-weight: 1000; color: var(--neon); margin: 20px 0; }

    .reveal-btn {
      background: var(--neon2); color: #000; border: none; padding: 15px 40px;
      border-radius: 15px; font-weight: 900; font-size: 1.5rem; cursor: pointer; margin-bottom: 30px;
    }

    .answers-grid { 
      display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); 
      gap: 15px; list-style: none; padding: 0; 
    }
    .answer-tile { 
      background: rgba(0,0,0,0.6); padding: 15px; border-radius: 20px; border: 2px solid var(--stroke); 
    }
    .answer-tile .num { font-size: 2.5rem; color: #fff; font-weight: 900; display: block; line-height: 1; margin-bottom: 5px;}
    .answer-tile .val { font-size: 1.4rem; color: var(--neon); font-weight: 700; }
    .answer-tile .val b { color: var(--neon2); }

    .hidden{ display:none !important; }
    .translate-btn, .fs-btn { background: #333; color: #fff; border: 1px solid #777; padding: 10px; border-radius: 10px; cursor: pointer; }
  </style>
</head>
<body>

  <div id="start-screen" class="overlay-screen">
    <div class="info-card">
      <h2 id="info-title">MISSION: CRACK THE CODE</h2>
      <div id="info-text" class="instructions">
        <ul>
          <li>Find the <b>15 texts</b> in the room.</li>
          <li><b>Careful:</b> Only 10 texts have questions. 5 are FAKE!</li>
          <li>Answer the 20 questions on your sheet.</li>
          <li><b>Add up</b> all correct numbers for the secret code.</li>
          <li>Enter the code to <b>ESCAPE</b>!</li>
        </ul>
      </div>
      <div class="btn-group">
        <button class="translate-btn" onclick="toggleLanguage()">VERTAAL NAAR NL</button>
        <button class="fs-btn" onclick="toggleFullScreen()">FULL SCREEN</button>
        <button class="start-btn" onclick="startGame()">START MISSION</button>
      </div>
    </div>
  </div>

  <div id="game-ui" class="app hidden">
    <h1>ESCAPE ROOM</h1>
    <div id="display"></div>
    <div class="keypad">
      <button class="key" onclick="press('1')">1</button><button class="key" onclick="press('2')">2</button><button class="key" onclick="press('3')">3</button>
      <button class="key" onclick="press('4')">4</button><button class="key" onclick="press('5')">5</button><button class="key" onclick="press('6')">6</button>
      <button class="key" onclick="press('7')">7</button><button class="key" onclick="press('8')">8</button><button class="key" onclick="press('9')">9</button>
      <button class="key clear" onclick="clearDisplay()">C</button><button class="key" onclick="press('0')">0</button><button class="key enter" onclick="checkCode()">OK</button>
    </div>
  </div>

  <div id="success-screen" class="success-screen hidden">
    <h1 class="success-title">REALM ACHIEVED!</h1>
    <button id="reveal-btn" class="reveal-btn" onclick="toggleAnswers()">SHOW ANSWERS</button>
    
    <div id="answers-panel" class="hidden">
      <ul class="answers-grid">
        <li class="answer-tile"><span class="num">1</span><span class="val">b <b>(97)</b></span></li>
        <li class="answer-tile"><span class="num">2</span><span class="val">b <b>(32)</b></span></li>
        <li class="answer-tile"><span class="num">3</span><span class="val">b <b>(72)</b></span></li>
        <li class="answer-tile"><span class="num">4</span><span class="val">a <b>(63)</b></span></li>
        <li class="answer-tile"><span class="num">5</span><span class="val">b <b>(36)</b></span></li>
        <li class="answer-tile"><span class="num">6</span><span class="val">b <b>(21)</b></span></li>
        <li class="answer-tile"><span class="num">7</span><span class="val">a <b>(69)</b></span></li>
        <li class="answer-tile"><span class="num">8</span><span class="val">b <b>(42)</b></span></li>
        <li class="answer-tile"><span class="num">9</span><span class="val">b <b>(59)</b></span></li>
        <li class="answer-tile"><span class="num">10</span><span class="val">b <b>(17)</b></span></li>
        <li class="answer-tile"><span class="num">11</span><span class="val">b <b>(3)</b></span></li>
        <li class="answer-tile"><span class="num">12</span><span class="val">b <b>(84)</b></span></li>
        <li class="answer-tile"><span class="num">13</span><span class="val">b <b>(84)</b></span></li>
        <li class="answer-tile"><span class="num">14</span><span class="val">a <b>(48)</b></span></li>
        <li class="answer-tile"><span class="num">15</span><span class="val">c <b>(99)</b></span></li>
        <li class="answer-tile"><span class="num">16</span><span class="val">a <b>(1)</b></span></li>
        <li class="answer-tile"><span class="num">17</span><span class="val">b <b>(11)</b></span></li>
        <li class="answer-tile"><span class="num">18</span><span class="val">a <b>(8)</b></span></li>
        <li class="answer-tile"><span class="num">19</span><span class="val">b <b>(13)</b></span></li>
        <li class="answer-tile"><span class="num">20</span><span class="val">b <b>(6)</b></span></li>
      </ul>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <script>
    let currentCode = "";
    const correctCode = "807";
    let isDutch = false;

    function toggleFullScreen() {
      if (!document.fullscreenElement) { document.documentElement.requestFullscreen(); }
      else { document.exitFullscreen(); }
    }

    function toggleLanguage() {
      const title = document.getElementById('info-title');
      const text = document.getElementById('info-text');
      const btn = document.querySelector('.translate-btn');
      if (!isDutch) {
        title.innerText = "MISSIE: KRAAK DE CODE";
        text.innerHTML = `<ul><li>Zoek de <b>15 teksten</b> in het lokaal.</li><li><b>Let op:</b> Maar 10 teksten hebben vragen. 5 zijn FAKE!</li><li>Beantwoord de 20 vragen op je blad.</li><li><b>Tel alles op</b> voor de geheime code.</li><li>Voer de code in om te <b>ONTSNAPPEN</b>!</li></ul>`;
        btn.innerText = "ENGLISH";
      } else {
        title.innerText = "MISSION: CRACK THE CODE";
        text.innerHTML = `<ul><li>Find the <b>15 texts</b> in the room.</li><li><b>Careful:</b> Only 10 texts have questions. 5 are FAKE!</li><li>Answer the 20 questions on your sheet.</li><li><b>Add up</b> all correct numbers for the secret code.</li><li>Enter the code to <b>ESCAPE</b>!</li></ul>`;
        btn.innerText = "VERTAAL NAAR NL";
      }
      isDutch = !isDutch;
    }

    function startGame() {
      document.getElementById('start-screen').classList.add('hidden');
      document.getElementById('game-ui').classList.remove('hidden');
    }

    function press(num) { if (currentCode.length < 4) { currentCode += num; document.getElementById('display').innerText = currentCode; } }
    function clearDisplay() { currentCode = ""; document.getElementById('display').innerText = ""; }

    function checkCode() {
      if (currentCode === correctCode) {
        document.getElementById('game-ui').classList.add('hidden');
        document.getElementById('success-screen').classList.remove('hidden');
        launchConfetti();
      } else {
        const d = document.getElementById('display');
        d.style.borderColor = "var(--danger)";
        setTimeout(() => { d.style.borderColor = "var(--neon)"; clearDisplay(); }, 600);
      }
    }

    function toggleAnswers() {
      const p = document.getElementById('answers-panel');
      const b = document.getElementById('reveal-btn');
      p.classList.toggle('hidden');
      b.innerText = p.classList.contains('hidden') ? "SHOW ANSWERS" : "HIDE ANSWERS";
    }

    function launchConfetti() {
      var end = Date.now() + (5 * 1000);
      (function frame() {
        confetti({ particleCount: 7, angle: 60, spread: 60, origin: { x: 0 }, colors: ['#00ff88', '#00d4ff'] });
        confetti({ particleCount: 7, angle: 120, spread: 60, origin: { x: 1 }, colors: ['#00ff88', '#00d4ff'] });
        if (Date.now() < end) requestAnimationFrame(frame);
      }());
    }
  </script>
</body>
</html>

