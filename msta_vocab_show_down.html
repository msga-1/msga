<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vocab Challenge | Mister Seb</title>
    <style>
        :root {
            --bg: #f0f2f5;
            --card-bg: #ffffff;
            --primary: #007bff; /* Helder blauw */
            --secondary: #28a745; /* Helder groen */
            --text: #1a1a1a;
            --text-light: #ffffff;
            --accent: #e91e63;
        }

        /* Thema kleuren per taal (geoptimaliseerd voor lichte achtergrond) */
        .theme-nl { --primary: #e64a19; --accent: #2196f3; }
        .theme-en { --primary: #00247d; --accent: #cf142b; }
        .theme-fr { --primary: #0055a4; --accent: #ef4135; }
        .theme-du { --primary: #ffc107; --accent: #333333; }

        html, body { 
            height: 100vh; margin: 0; overflow: hidden; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background-color: var(--bg); color: var(--text);
            display: flex; flex-direction: column;
        }

        header {
            background: linear-gradient(90deg, var(--primary), var(--accent));
            padding: 1rem; text-align: center; font-weight: 900;
            text-transform: uppercase; color: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            letter-spacing: 1px;
        }

        .container { flex-grow: 1; display: flex; flex-direction: column; padding: 20px; box-sizing: border-box; overflow-y: auto; }

        .setup-card {
            width: 100%; max-width: 500px; margin: auto; background: var(--card-bg);
            padding: 2rem; border-radius: 15px; border: 1px solid #ddd;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
        }

        textarea {
            width: 100%; height: 120px; padding: 12px; background: #fff;
            border: 2px solid #eee; color: #333; border-radius: 10px;
            font-family: inherit; box-sizing: border-box; font-size: 1rem;
            margin-top: 5px;
        }

        textarea:focus { border-color: var(--primary); outline: none; }

        .lang-selector {
            display: flex; justify-content: space-between; margin-bottom: 1.5rem; gap: 10px;
        }

        .lang-btn {
            flex: 1; padding: 12px; border-radius: 10px; border: 1px solid #ddd;
            background: #f8f9fa; color: #333; cursor: pointer; font-size: 0.9rem;
            transition: all 0.2s; font-weight: bold;
        }

        .lang-btn.active { border-color: var(--primary); background: var(--primary); color: white; }

        .display-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px; flex-grow: 1; padding: 10px;
        }

        .word-item {
            background: var(--card-bg); border-bottom: 4px solid var(--primary);
            border-radius: 12px; display: flex; flex-direction: column;
            justify-content: center; align-items: center; position: relative;
            padding: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            min-height: 120px;
        }

        .question { font-size: 1.5rem; font-weight: 800; text-align: center; color: var(--text); }

        .answer {
            color: var(--secondary); visibility: hidden; font-size: 1.3rem;
            font-weight: 700; margin-top: 10px; padding: 4px 12px;
            border-radius: 6px; background: rgba(40, 167, 69, 0.1);
            border: 1px solid var(--secondary); opacity: 0; transition: opacity 0.3s;
        }

        .answer.visible { visibility: visible; opacity: 1; }

        .action-bar { display: none; justify-content: center; gap: 15px; padding: 20px; background: white; border-top: 1px solid #ddd; }

        button { cursor: pointer; font-weight: bold; border-radius: 8px; border: none; text-transform: uppercase; transition: transform 0.1s; }
        button:active { transform: scale(0.98); }

        .btn-start { background: var(--primary); color: white; padding: 15px; width: 100%; font-size: 1.1rem; }
        .btn-reveal { background: var(--secondary); color: white; padding: 12px 35px; font-size: 1.2rem; }
        .btn-reset { background: #6c757d; color: white; padding: 12px 20px; }

        input[type="number"], select {
            padding: 10px; background: #fff; border: 2px solid #eee; border-radius: 8px; font-size: 1rem;
        }
    </style>
</head>
<body class="theme-nl">

<header id="mainTitle">Vocab Challenge</header>

<div class="container">
    <div class="setup-card" id="setup">
        <div class="lang-selector">
            <button class="lang-btn active" onclick="setLang('nl', event)">NL</button>
            <button class="lang-btn" onclick="setLang('en', event)">EN</button>
            <button class="lang-btn" onclick="setLang('fr', event)">FR</button>
            <button class="lang-btn" onclick="setLang('du', event)">DE</button>
        </div>
        
        <label id="labelInput" style="font-size: 0.9rem; font-weight: bold; color: #555;">Woordenlijst (woord - vertaling):</label>
        <textarea id="wordInput" placeholder="Hond  Dog&#10;Kat  Cat..."></textarea>
        
        <div style="display: flex; gap: 10px; margin: 15px 0;">
            <input type="number" id="wordCount" value="10" min="1" style="width: 30%;">
            <select id="direction" style="width: 70%;">
                <option value="l-r" id="opt1">Links ➔ Rechts</option>
                <option value="r-l" id="opt2">Rechts ➔ Links</option>
            </select>
        </div>
        <button class="btn-start" id="startBtn" onclick="startLesson()">START CHALLENGE</button>
    </div>

    <div id="displayArea" class="display-grid"></div>
</div>

<div class="action-bar" id="actionBar">
    <button class="btn-reset" id="resetBtn" onclick="resetApp()">← TERUG</button>
    <button class="btn-reveal" id="revealBtn" onclick="revealAnswers()">ONTHUL ALLES</button>
</div>

<script>
    const translations = {
        nl: { title: "Vocab Challenge: NL", input: "Woordenlijst:", start: "Start Challenge", reveal: "Antwoorden", back: "Terug", opt1: "Links naar Rechts", opt2: "Rechts naar Links" },
        en: { title: "Vocab Challenge: EN", input: "Word list:", start: "Start Challenge", reveal: "Show Answers", back: "Back", opt1: "Left to Right", opt2: "Right to Left" },
        fr: { title: "Défi Vocabulaire: FR", input: "Liste de mots:", start: "Lancer le défi", reveal: "Révéler les réponses", back: "Retour", opt1: "Gauche à Droite", opt2: "Droite à Gauche" },
        du: { title: "Vokabel-Challenge: DE", input: "Vokabelliste:", start: "Challenge starten", reveal: "Antworten zeigen", back: "Zurück", opt1: "Links naar Rechts", opt2: "Rechts naar Links" }
    };

    function setLang(lang, event) {
        document.body.className = 'theme-' + lang;
        document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
        event.target.classList.add('active');
        
        const t = translations[lang];
        document.getElementById('mainTitle').innerText = t.title;
        document.getElementById('labelInput').innerText = t.input;
        document.getElementById('startBtn').innerText = t.start;
        document.getElementById('revealBtn').innerText = t.reveal;
        document.getElementById('resetBtn').innerText = t.back;
        document.getElementById('opt1').innerText = t.opt1;
        document.getElementById('opt2').innerText = t.opt2;
    }

    function startLesson() {
        const text = document.getElementById('wordInput').value.trim();
        const count = parseInt(document.getElementById('wordCount').value);
        const dir = document.getElementById('direction').value;
        const area = document.getElementById('displayArea');
        
        const lines = text.split('\n').filter(line => line.trim() !== '');
        const processed = lines.map(line => {
            // Splitst op tab, 2+ spaties of '='
            let parts = line.split(/\t| {2,}|= /); 
            parts = parts.map(p => p.trim()).filter(p => p !== '');
            return parts.length >= 2 ? { l: parts[0], r: parts[1] } : null;
        }).filter(i => i !== null);

        if (processed.length === 0) return alert("Voer a.u.b. woorden in (woord [spatie] vertaling)");

        const selection = processed.sort(() => 0.5 - Math.random()).slice(0, count);
        area.innerHTML = '';
        selection.forEach((item, i) => {
            const q = (dir === 'l-r') ? item.l : item.r;
            const a = (dir === 'l-r') ? item.r : item.l;
            area.innerHTML += `
                <div class="word-item" onclick="this.querySelector('.answer').classList.toggle('visible')">
                    <span class="question">${q}</span>
                    <span class="answer">${a}</span>
                </div>`;
        });

        document.getElementById('setup').style.display = 'none';
        document.getElementById('actionBar').style.display = 'flex';
    }

    function revealAnswers() {
        const ans = document.querySelectorAll('.answer');
        ans.forEach(a => a.classList.add('visible'));
    }

    function resetApp() {
        document.getElementById('setup').style.display = 'block';
        document.getElementById('actionBar').style.display = 'none';
        document.getElementById('displayArea').innerHTML = '';
    }
</script>
</body>
</html>